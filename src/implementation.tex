\section{Implementation}
The code was primarily implemented in Python, with some auxiliary components in Bash scripts.
The underlying algorithm and implementation was originally developed by \citeauthor{irace2021bayesian} \cite{irace2021bayesian}. Building on this foundation, a number of improvements and additions were introduced to the code and the algorithm.

In the original carotid segmentation algorithm, the TOF-MRA image was smoothed to reduce noise.
The purpose of this smoothing step was to attenuate noise; however, because carotids inherently exhibit high-frequency spatial features, the smoothing inadvertently blurred these critical details, ultimately reducing the accuracy of the segmentation.
Hence, this step was removed.

In the adaptive thresholding step, all voxels, including those with zero intensity were originally included.
This led to a significant imbalance in the intensity histograms, making the thresholding highly susceptible to variations in the number of slices and the effects of zero padding in the TOF-MRA image.
Limiting to only nonzero voxels resulted in an immediate improvement in the final segmentation.
Despite these improvements, some non-carotid tissues were inadvertently selected by the algorithm, hence the cuboid mask mentioned in Section~\ref{sec:carotid} was introduced.

Furthermore, the code was revised to enhance both implementation and performance.
Improvements include major bug fixes, pipeline streamlining, multi-processing support, and the integration of evaluation metrics for both individual subjects and overall dataset performance.
